using SparseArrays
using MAT
using MatrixNetworks
using LinearAlgebra
using StatsBase
using Random
using Base
include("Helper_io.jl")
include("Utils.jl")
include("Graph_utils_yd.jl")

# This part of the code should be made safe to be included by both our algorithm and any competitor algorithms.

CS_AMAZON_FOLDER = "../CaseStudy/Amazon/"

AMAZON_GRAPH_FILE = string(CS_AMAZON_FOLDER, "IN/com-amazon.ungraph.in")

println("Reading Amazon data...")
B = readIN(AMAZON_GRAPH_FILE)

# V = 9999 # "Programming and Problem Solving With C++"

# V = 43329 # "Les Miserables"
# V = 170090 # "Crime and Punishment"
# V = 19217 # "War and Peace"
# V = 72370, 72371, 79592, 100920, 102150, 170945, 229862, 261557, 266632, 291301 # "Oh My Goddess"
# V = 325872 # Off the wall

# V = 230805 # "Forrest Gump"
# R = [166635, 230805, 544238, 544634, 43592, 210313, 532993, 79574, 486222, 150053, 58415, 351059, 282741, 545996, 347495, 543154, 484979, 316455, 104265, 342233, 544139]
# S_LA = [58415, 166635, 230805, 278222, 295970, 347495, 351059, 461820, 484359, 543154, 544238, 544634]
# S_FS = [166635, 230805, 544238, 544634, 43592, 210313, 532993, 79574, 486222, 150053, 58415, 351059, 282741, 545996, 347495, 543154, 484979, 316455, 104265, 342233, 544139, 49516, 94062, 278222, 295970, 461820, 468022, 484359, 485554, 512294, 543904]
# S_GD = [484979, 316455, 359454, 343531]

# V = 72370 # "Oh My Goddess"
# R = [72370, 94242, 94246, 134143, 373719, 389896, 413692, 543801, 543802, 35050, 506867, 335249, 72371, 434276, 100920, 367186, 361337, 112723, 545069, 466130, 218147, 44918, 283142, 509960, 405823, 68838, 218774, 29740, 80600, 29738, 285038]
# S_LA = [35050, 44918, 72370, 72371, 79592, 94242, 94246, 100920, 112723, 134143, 218147, 283142, 361337, 367186, 373719, 389896, 405823, 413692, 434276, 466130, 506867, 509960, 516373, 545069]
# S_FS = [72370, 94242, 94246, 134143, 373719, 389896, 413692, 543801, 543802, 35050, 506867, 335249, 72371, 434276, 100920, 367186, 361337, 112723, 545069, 466130, 218147, 44918, 283142, 509960, 405823, 68838, 218774, 29740, 80600, 29738, 285038, 79592, 134141, 219502, 245029, 262634, 289096, 344236, 428747, 516373, 544681, 547542]

R = [72370, 94242, 94246, 134143, 373719, 389896, 413692, 543801, 543802, 29740, 516373, 434276, 79592, 72371, 428747, 335249, 112723, 283142, 466130, 344236, 299724, 358048, 117691, 235244, 100920, 537553, 543699, 405823, 509960, 69488, 285038, 289096, 80600, 384508, 355686, 44918, 475909, 489964, 440060]
S_LA = [72370, 72371, 79592, 94242, 94246, 100920, 112723, 134143, 283142, 299724, 335249, 358048, 367186, 373719, 389896, 405823, 413692, 428747, 434276, 466130, 509960, 516373]
S_FS = [72370, 94242, 94246, 134143, 373719, 389896, 413692, 543801, 543802, 29740, 516373, 434276, 79592, 72371, 428747, 335249, 112723, 283142, 466130, 344236, 299724, 358048, 117691, 235244, 100920, 537553, 543699, 405823, 509960, 69488, 285038, 289096, 80600, 384508, 355686, 44918, 475909, 489964, 440060, 134141, 219502, 367186, 544681]
S_GD = [72370, 134143, 389896, 413692, 543801, 543802, 29740, 516373, 79592, 428747, 335249, 112723, 283142, 299724, 358048, 100920, 537553, 405823, 509960, 69488, 285038, 289096, 80600, 475909, 361337, 29738, 506867, 266632, 399053, 358428, 94089, 245029, 461863, 170945, 262634, 547542, 545069, 311601]

# C = GenerateUserInputSet(B,V,1,4)